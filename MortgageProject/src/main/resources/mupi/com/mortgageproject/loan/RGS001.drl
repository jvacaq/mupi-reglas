//import org.drools.runtime.process.WorkflowProcessInstance
package mupi.com.mortgageproject.loan
import mupi.com.mortgageproject.loan.solicitud;


rule "RGS001-1"
            no-loop true
            ruleflow-group "RGS1"
            
             when
              //(codigoProducto2.equals(codigoProducto))
             //(codigoProducto.equals("36001")
             //$resultado : "NO"
             //$codigoProducto : "123" 
             //$process:WorkflowProcessInstance()
             //$p : codigoProducto == "36001" 
            // eval(true)
           
            $p : solicitud(codigoProducto == 36001)
            
             then
            System.out.println("requiere gatantias" + " " + $p.getCodigoProducto() + " " + $p.getMontoSolicitado());
            modify($p){
              setRequiereGarantias("NO"),
              setRequiereGarantes("NO")
            }
            System.out.println("requiere gatantias" + " " + $p.getRequiereGarantias() + " " + "requiere garantes" + " " + $p.getRequiereGarantes());
end

rule "RGS001-2"
            no-loop true
            ruleflow-group "RGS1"
            
             when
            
            $p : solicitud(grupoTipoCredito == "CONSUMO" && tipoGarantia == "QUIROGRAFARIO")
            
             then
            System.out.println("requiere gatantias" + " " + $p.getRequiereGarantias() +  "requiere garantes" + " " + $p.getRequiereGarantes());
            modify($p){
              setRequiereGarantias("NO"),
              setRequiereGarantes("SI")
            }
            System.out.println("requiere gatantias" + " " + $p.getRequiereGarantias() + " " + "requiere garantes" + " " + $p.getRequiereGarantes());
end

rule "RGS001-3"
            no-loop true
            ruleflow-group "RGS1"
            
             when
            
            $p : solicitud(tipoGarantia == "SIN GARANTIA" && tipoPersona == "JURIDICA")
            
             then
            System.out.println("requiere gatantias" + " " + $p.getRequiereGarantias() +  "requiere garantes" + " " + $p.getRequiereGarantes());
            modify($p){
              setRequiereGarantias("NO"),
              setRequiereGarantes("NO")
            }
            System.out.println("requiere gatantias" + " " + $p.getRequiereGarantias() + " " + "requiere garantes" + " " + $p.getRequiereGarantes());
end

rule "RGS001-4"
            no-loop true
            ruleflow-group "RGS1"
            
             when
            
            $p : solicitud(codigoProducto == null, grupoTipoCredito == null, tipoGarantia == null, tipoCliente == null, 
            montoSolicitado == null, tipoPersona == null)
            
             then
            System.out.println("requiere gatantias" + " " + $p.getRequiereGarantias() +  "requiere garantes" + " " + $p.getRequiereGarantes());
            modify($p){
              setRequiereGarantias("SI"),
              setRequiereGarantes("NO")
            }
            System.out.println("requiere gatantias" + " " + $p.getRequiereGarantias() + " " + "requiere garantes" + " " + $p.getRequiereGarantes());
end

